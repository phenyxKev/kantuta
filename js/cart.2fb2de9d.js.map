{"version":3,"file":"js/cart.2fb2de9d.js","mappings":"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","sources":["webpack://kantuta/./src/views/Cart.vue","webpack://kantuta/./src/components/Basket.vue","webpack://kantuta/./src/components/Basket.vue?8055","webpack://kantuta/./src/views/Cart.vue?27b4"],"sourcesContent":["<template>\n  <Header />\n  <Basket :basket=\"basket\" @deleteItem=\"deleteItem\"/>\n  <Footer />\n  <Nav />\n</template>\n\n<script>\nimport Header from \"@/components/Header.vue\"\nimport Basket from \"@/components/Basket.vue\"\nimport Footer from \"@/components/Footer.vue\"\nimport Nav from \"@/components/Nav.vue\"\nimport { piniaCart } from '@/store/pinia.js'\n\nexport default {\n  name: 'CartView',\n  components: {\n    Header,\n    Basket,\n    Footer,\n    Nav\n  },\n  data() {\n    return {\n      basket: {}\n    }\n  },\n  methods: {\n    deleteItem(itemId) {\n      this.basket = this.basket.filter((item) => item._id != itemId)\n      if (!this.basket.length) {\n        piniaCart().deleteCart()\n        localStorage.removeItem(\"basket\")\n      } else {\n        localStorage.setItem(\"basket\", JSON.stringify(this.basket))  \n      }      \n    }\n  },\n  created() {\n    this.basket = JSON.parse(localStorage.getItem(\"basket\"))\n  }\n}\n</script>","<template>\n  <main v-if=\"check(basket)\">\n    <h2>Mi cesta de compra</h2>\n    <article  v-for=\"item in basket\" :key=\"item._id\">\n      <span>{{ item.quantity }}</span>\n      <h3>{{ item.name }}</h3>\n      <span>{{ item.quantity * item.price }} €</span>\n      <button @click=\"deleteItem(item._id)\"><i class=\"fas fa-trash\"></i></button>\n    </article>\n    <hr>\n    <div class=\"total\">\n      <p>Total</p>\n      <span>{{ computeQuantity }}</span>\n      <h3>Articulos</h3>\n      <span>{{ computePrice }} €</span>\n    </div>\n  </main>\n  <div class=\"empty\">\n    <p>Su cesta de compra esta vacia del momento: <router-link to=\"/store\">ver articulos</router-link></p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'BasketComp',\n  props: {\n    basket: Object\n  },\n  computed: {\n    computeQuantity: function() {\n      let quantity = 0\n      this.basket.forEach(element => {\n        quantity += element.quantity\n      });\n      return quantity\n    },\n    computePrice() {\n      let price = 0\n      this.basket.forEach(element => {\n        price += (element.price * element.quantity)\n      });\n      return price\n    }\n  },\n  methods: {\n    check(check) {\n       if (localStorage.getItem(\"basket\")) {\n        this.basket.length != null && this.basket.length > 0 ? check = true : check = false  \n      } else {\n        check = false\n      }      \n      return check\n    },\n    deleteItem(itemId) {\n      if (confirm(\"Quiere eliminar este articulo de la cesta ?\")) {\n        this.$emit(\"deleteItem\", itemId)  \n      } else {\n        return\n      }\n    }\n  },\n  /* Emitters */\n  emits: [\"deleteItem\"]\n}\n</script>\n\n<style scoped lang=\"scss\">\nmain {\n  min-height: 100vh;\n  line-height: 2rem;\n  padding: 2rem 1rem;\n  width: 100%;\n  h2 {\n    margin: 4rem 0;\n    color: #fc484c;\n  }\n}\narticle {\n  min-width: 100%;\n  max-width: 480px;\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 2rem;\n  span:first-child {\n    width: 5%;\n  }\n  h3 {\n    width: 70%;\n    text-overflow: ellipsis;\n    overflow: auto;\n    white-space: nowrap;\n  }\n  span:nth-child(3) {\n    width: 15%;\n  }\n  button {\n    text-align: right;\n    width: 10%;\n  }\n}\nhr {\n  margin: 1rem 0;\n}\n.total {\n  min-width: 100%;\n  max-width: 480px;\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 2rem;\n  p {\n    width: 100%;\n    margin: 1rem 0;\n  }\n  span:nth-child(2){\n    width: 5%;    \n  }\n  h3 {\n    width: 70%;\n  }\n}\n.empty {\n  min-height: 100vh;\n  line-height: 2rem;\n  margin: 4rem 0;\n  padding: 2rem 1rem;\n  width: 100%;\n  a {\n    text-decoration: underline;\n    color: #fc484c;\n  }\n}\n</style>","import { render } from \"./Basket.vue?vue&type=template&id=cec18640&scoped=true\"\nimport script from \"./Basket.vue?vue&type=script&lang=js\"\nexport * from \"./Basket.vue?vue&type=script&lang=js\"\n\nimport \"./Basket.vue?vue&type=style&index=0&id=cec18640&scoped=true&lang=scss\"\n\nimport exportComponent from \"/mnt/7eb5eb20-d831-40e4-b3ec-2018e4d1072f/Kode/Kantuta/vue.js/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cec18640\"]])\n\nexport default __exports__","import { render } from \"./Cart.vue?vue&type=template&id=15fb86f0\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/7eb5eb20-d831-40e4-b3ec-2018e4d1072f/Kode/Kantuta/vue.js/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createVNode","_component_Header","_component_Basket","basket","$data","onDeleteItem","$options","_component_Footer","_component_Nav","_createElementVNode","class","_hoisted_4","$props","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","item","key","_id","_toDisplayString","quantity","name","price","onClick","_hoisted_6","_hoisted_8","_hoisted_9","_component_router_link","to","props","Object","computed","computeQuantity","this","forEach","element","computePrice","methods","check","localStorage","getItem","length","deleteItem","itemId","confirm","$emit","emits","__exports__","components","Header","Basket","Footer","Nav","data","filter","setItem","JSON","stringify","piniaCart","deleteCart","removeItem","created","parse","render"],"sourceRoot":""}