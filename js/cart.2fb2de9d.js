"use strict";(self["webpackChunkkantuta"]=self["webpackChunkkantuta"]||[]).push([[511],{174:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var l=a(252);function n(e,t,a,n,s,r){const u=(0,l.up)("Header"),i=(0,l.up)("Basket"),c=(0,l.up)("Footer"),o=(0,l.up)("Nav");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(u),(0,l.Wm)(i,{basket:s.basket,onDeleteItem:r.deleteItem},null,8,["basket","onDeleteItem"]),(0,l.Wm)(c),(0,l.Wm)(o)],64)}var s=a(906),r=a(577);const u=e=>((0,l.dD)("data-v-cec18640"),e=e(),(0,l.Cn)(),e),i={key:0},c=u((()=>(0,l._)("h2",null,"Mi cesta de compra",-1))),o=["onClick"],m=u((()=>(0,l._)("i",{class:"fas fa-trash"},null,-1))),k=[m],d=u((()=>(0,l._)("hr",null,null,-1))),p={class:"total"},h=u((()=>(0,l._)("p",null,"Total",-1))),b=u((()=>(0,l._)("h3",null,"Articulos",-1))),_={class:"empty"},f=(0,l.Uk)("Su cesta de compra esta vacia del momento: "),g=(0,l.Uk)("ver articulos");function v(e,t,a,n,s,u){const m=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[u.check(a.basket)?((0,l.wg)(),(0,l.iD)("main",i,[c,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.basket,(e=>((0,l.wg)(),(0,l.iD)("article",{key:e._id},[(0,l._)("span",null,(0,r.zw)(e.quantity),1),(0,l._)("h3",null,(0,r.zw)(e.name),1),(0,l._)("span",null,(0,r.zw)(e.quantity*e.price)+" €",1),(0,l._)("button",{onClick:t=>u.deleteItem(e._id)},k,8,o)])))),128)),d,(0,l._)("div",p,[h,(0,l._)("span",null,(0,r.zw)(u.computeQuantity),1),b,(0,l._)("span",null,(0,r.zw)(u.computePrice)+" €",1)])])):(0,l.kq)("",!0),(0,l._)("div",_,[(0,l._)("p",null,[f,(0,l.Wm)(m,{to:"/store"},{default:(0,l.w5)((()=>[g])),_:1})])])],64)}var w={name:"BasketComp",props:{basket:Object},computed:{computeQuantity:function(){let e=0;return this.basket.forEach((t=>{e+=t.quantity})),e},computePrice(){let e=0;return this.basket.forEach((t=>{e+=t.price*t.quantity})),e}},methods:{check(e){return e=!!localStorage.getItem("basket")&&(null!=this.basket.length&&this.basket.length>0),e},deleteItem(e){confirm("Quiere eliminar este articulo de la cesta ?")&&this.$emit("deleteItem",e)}},emits:["deleteItem"]},I=a(744);const y=(0,I.Z)(w,[["render",v],["__scopeId","data-v-cec18640"]]);var C=y,D=a(57),S=a(658),q=a(704),z={name:"CartView",components:{Header:s.Z,Basket:C,Footer:D.Z,Nav:S.Z},data(){return{basket:{}}},methods:{deleteItem(e){this.basket=this.basket.filter((t=>t._id!=e)),this.basket.length?localStorage.setItem("basket",JSON.stringify(this.basket)):((0,q.U)().deleteCart(),localStorage.removeItem("basket"))}},created(){this.basket=JSON.parse(localStorage.getItem("basket"))}};const H=(0,I.Z)(z,[["render",n]]);var W=H}}]);
//# sourceMappingURL=cart.2fb2de9d.js.map